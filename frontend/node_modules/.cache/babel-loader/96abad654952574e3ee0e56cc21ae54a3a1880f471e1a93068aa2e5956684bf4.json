{"ast":null,"code":"var _jsxFileName = \"E:\\\\Employee Timesheet chatbot\\\\frontend\\\\src\\\\components\\\\ChatInput\\\\ChatInput.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { LuSendHorizontal } from 'react-icons/lu';\nimport { FaFileCsv } from 'react-icons/fa';\nimport { ImSpinner2 } from 'react-icons/im';\nimport './ChatInput.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_UPLOAD_URL = \"http://127.0.0.1:5000/upload\";\nconst ChatInput = ({\n  onSend,\n  loading\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n  const handleFileChange = async event => {\n    const file = event.target.files[0];\n    if (file) {\n      setUploading(true);\n      setMessage('Uploading file...');\n      const formData = new FormData();\n      formData.append('file', file);\n      try {\n        const response = await fetch(API_UPLOAD_URL, {\n          method: 'POST',\n          body: formData\n        });\n        const data = await response.json();\n        if (response.ok) {\n          setMessage(`Update successful: ${data.message}`);\n        } else {\n          setMessage(`Update failed: ${data.error}`);\n        }\n      } catch (error) {\n        console.error(\"Upload error:\", error);\n        setMessage(\"Upload failed: Could not connect to the server.\");\n      } finally {\n        setUploading(false);\n        setTimeout(() => setMessage(''), 5000); // Clear message after 5 seconds\n      }\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSend(query);\n    setQuery('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-input-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"file-upload\",\n        accept: \".csv\",\n        onChange: handleFileChange,\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"update-button\",\n        onClick: () => document.getElementById('file-upload').click(),\n        disabled: uploading,\n        children: uploading ? /*#__PURE__*/_jsxDEV(ImSpinner2, {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 34\n        }, this) : \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"input-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"chat-input\",\n        placeholder: \"Ask a question about the timesheet...\",\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        disabled: loading || uploading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"send-button\",\n        disabled: loading || uploading,\n        children: /*#__PURE__*/_jsxDEV(LuSendHorizontal, {\n          className: \"send-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatInput, \"MQPFeAoWg9Mb32CY18yXNLMrxU8=\");\n_c = ChatInput;\nexport default ChatInput;\nvar _c;\n$RefreshReg$(_c, \"ChatInput\");","map":{"version":3,"names":["React","useState","LuSendHorizontal","FaFileCsv","ImSpinner2","jsxDEV","_jsxDEV","API_UPLOAD_URL","ChatInput","onSend","loading","_s","query","setQuery","uploading","setUploading","message","setMessage","handleFileChange","event","file","target","files","formData","FormData","append","response","fetch","method","body","data","json","ok","error","console","setTimeout","handleSubmit","e","preventDefault","className","children","type","id","accept","onChange","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onClick","document","getElementById","click","disabled","onSubmit","placeholder","value","_c","$RefreshReg$"],"sources":["E:/Employee Timesheet chatbot/frontend/src/components/ChatInput/ChatInput.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { LuSendHorizontal } from 'react-icons/lu';\r\nimport { FaFileCsv } from 'react-icons/fa';\r\nimport { ImSpinner2 } from 'react-icons/im';\r\nimport './ChatInput.css';\r\n\r\nconst API_UPLOAD_URL = \"http://127.0.0.1:5000/upload\";\r\n\r\nconst ChatInput = ({ onSend, loading }) => {\r\n    const [query, setQuery] = useState('');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleFileChange = async (event) => {\r\n        const file = event.target.files[0];\r\n        if (file) {\r\n            setUploading(true);\r\n            setMessage('Uploading file...');\r\n            \r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            try {\r\n                const response = await fetch(API_UPLOAD_URL, {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n                const data = await response.json();\r\n                if (response.ok) {\r\n                    setMessage(`Update successful: ${data.message}`);\r\n                } else {\r\n                    setMessage(`Update failed: ${data.error}`);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Upload error:\", error);\r\n                setMessage(\"Upload failed: Could not connect to the server.\");\r\n            } finally {\r\n                setUploading(false);\r\n                setTimeout(() => setMessage(''), 5000); // Clear message after 5 seconds\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSend(query);\r\n        setQuery('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"chat-input-container\">\r\n            <div className=\"upload-section\">\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"file-upload\"\r\n                    accept=\".csv\"\r\n                    onChange={handleFileChange}\r\n                    style={{ display: 'none' }}\r\n                />\r\n                <button\r\n                    className=\"update-button\"\r\n                    onClick={() => document.getElementById('file-upload').click()}\r\n                    disabled={uploading}\r\n                >\r\n                    {uploading ? <ImSpinner2 className=\"spinner\" /> : \"Update\"}\r\n                </button>\r\n            </div>\r\n            <form onSubmit={handleSubmit} className=\"input-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"chat-input\"\r\n                    placeholder=\"Ask a question about the timesheet...\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    disabled={loading || uploading}\r\n                />\r\n                <button type=\"submit\" className=\"send-button\" disabled={loading || uploading}>\r\n                    <LuSendHorizontal className=\"send-icon\" />\r\n                </button>\r\n            </form>\r\n            {message && <div className=\"upload-message\">{message}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}